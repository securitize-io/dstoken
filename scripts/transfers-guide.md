# Transfer Task Guide

## Overview

The `transfer-from-investors` task executes `transferFrom` operations between wallet addresses using a JSON configuration file.

**Important**: This task uses **wallet addresses** (like `0x1234...`), not investor IDs (like `lau__123456`).

## Usage

```bash
npx hardhat transfer-from-investors scripts/transfers.json [options]
```

## JSON File Structure

### `transfers.json` Format

```json
{
  "network": "arbitrum",
  "tokenAddress": "0x9Bb0af14a1Ad355EB77efefd52b312B97edbaB75",
  "transfers": [
    {
      "from": "0x1bf9374bC12F930746Eb1c40E5C912B185C5C3c5",
      "to": "0xF63841F0e2De5C5EA9C9279c86F130fb3F46817B",
      "amount": "1000",
      "description": "Transfer 1000 tokens"
    }
  ]
}
```

### Field Descriptions

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `network` | string | No | Network identifier (for reference) |
| `tokenAddress` | string | No | Token contract address |
| `transfers` | array | **Yes** | Array of transfer objects |
| `transfers[].from` | string | **Yes** | **Wallet address** that owns tokens |
| `transfers[].to` | string | **Yes** | **Wallet address** that receives tokens |
| `transfers[].amount` | string | **Yes** | Amount in tokens (converted to wei) |
| `transfers[].description` | string | No | Optional description |

## Available Flags

| Flag | Description |
|------|-------------|
| `--dryrun` | Test without executing |
| `--noapproval` | Skip approval checks (will fail if insufficient allowance) |
| `--approve` | Auto-approve (requires private keys) |
| `--spender` | Spender address |
| `--tokenaddress` | Token contract address |
| `--gaslimit` | Gas limit (default: 500000) |
| `--gasprice` | Gas price in gwei |

## Examples

```bash
# Dry run
npx hardhat transfer-from-investors scripts/transfers.json --dryrun

# Test without approvals
npx hardhat transfer-from-investors scripts/transfers.json --noapproval

# Custom spender
npx hardhat transfer-from-investors scripts/transfers.json --spender 0xYourAddress
```

## Important Notes

### ⚠️ Use Wallet Addresses, Not Investor IDs

- **✅ Correct**: `0x1bf9374bC12F930746Eb1c40E5C912B185C5C3c5`
- **❌ Wrong**: `lau__828687`

Get wallet addresses from the private keys file generated by `create-investor`.

### ⚠️ Approvals Required

The token owner must approve the spender before `transferFrom` works.

### ⚠️ Gas Payment

The spender pays gas, not the token owner.